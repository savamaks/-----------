(()=>{var e={};e.id=906,e.ids=[906],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},4815:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>_.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l});var i=a(482),r=a(9108),s=a(2563),_=a.n(s),n=a(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let l=["",{children:["reviews",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3347)),"G:\\projects\\GitHub\\potolki\\app\\reviews\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e),async e=>(await Promise.resolve().then(a.bind(a,4697))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,3226))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,5531)),"G:\\projects\\GitHub\\potolki\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,7984)),"G:\\projects\\GitHub\\potolki\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,1429)),"G:\\projects\\GitHub\\potolki\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e),async e=>(await Promise.resolve().then(a.bind(a,4697))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,3226))).default(e)],openGraph:[],twitter:[],manifest:void 0}}],d=["G:\\projects\\GitHub\\potolki\\app\\reviews\\page.tsx"],c="/reviews/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/reviews/page",pathname:"/reviews",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1066:(e,t,a)=>{Promise.resolve().then(a.bind(a,7830)),Promise.resolve().then(a.bind(a,6012)),Promise.resolve().then(a.t.bind(a,1900,23)),Promise.resolve().then(a.bind(a,6600))},6012:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var i=a(5344),r=a(3729),s=a(5549),_=a.n(s),n=a(4132),o=a.n(n),l=a(8620),d=a(1223),c=a.n(d),m=a(7556),p=a(2767),u=a.n(p),b=a(1913),g=a.n(b);let f=({setRating:e,setError:t})=>{let a=a=>{e(a.target.value),t("")};return i.jsx("div",{className:g().rating,title:"Пожалуйста оцените нашу работу)",children:(0,i.jsxs)("div",{className:g().rating__items,children:[i.jsx("input",{onChange:a,className:g().rating__items_input,type:"radio",id:"raiting__five",name:"rating",value:5}),i.jsx("label",{className:g().rating__items_label,htmlFor:"raiting__five"}),i.jsx("input",{onChange:a,className:g().rating__items_input,type:"radio",id:"raiting__four",name:"rating",value:4}),i.jsx("label",{className:g().rating__items_label,htmlFor:"raiting__four"}),i.jsx("input",{onChange:a,className:g().rating__items_input,type:"radio",id:"raiting__three",name:"rating",value:3}),i.jsx("label",{className:g().rating__items_label,htmlFor:"raiting__three"}),i.jsx("input",{onChange:a,className:g().rating__items_input,type:"radio",id:"raiting__two",name:"rating",value:2}),i.jsx("label",{className:g().rating__items_label,htmlFor:"raiting__two"}),i.jsx("input",{onChange:a,className:g().rating__items_input,type:"radio",id:"raiting__one",name:"rating",value:1}),i.jsx("label",{className:g().rating__items_label,htmlFor:"raiting__one"})]})})},h=async({name:e,rewiev:t,phone:a,rating:i})=>{try{if((await fetch("https://wclouds.ru/api/rewiews",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 4ee73f8dcbdd3f42ddd8b786c9d4f18eadf6539e7c87c202d68f475498beca9be1bef67ff2b6f2058a7f77c2bd3015e1ed4f59d3fdcbfc2974b2b33366459d558587b06b5299a14ff9104652461b8a67835d12081782001029d5cb0345875bb0a9feb65b35aeea8931a212e471f74a3b01fe3414c4d24faaf17147dbb53fa451"},body:JSON.stringify({data:{name:e,text:t,phone:a,rating:i}})})).ok)return!0;return!1}catch(e){console.log(e)}},x=()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[n,d]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),[g,x]=(0,r.useState)(""),[v,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!0),[y,R]=(0,r.useState)(""),C=e=>/^\d{11}$/.test(e),P=()=>{t(e=>!e)},W=async e=>{if(e.preventDefault(),""===a||""===n||""===p||!w||""===y){x("Заполните все поля ввода");return}await (0,l.A)({name:a,rewiev:n,phone:`+${p}`,rating:y}),j(await h({name:a,rewiev:n,phone:`+${p}`,rating:y}))};return(0,r.useEffect)(()=>{if(v){let e=setTimeout(()=>{t(!1)},5e3);return()=>clearTimeout(e)}},[v]),(0,i.jsxs)("div",{className:o()(_().container),children:[i.jsx("button",{className:o()(_().container__button),onClick:P,children:"Оставить отзыв"}),e&&i.jsx("div",{onClick:P,className:o()(_().modal),children:(0,i.jsxs)("form",{onClick:e=>{e.stopPropagation()},className:o()(_().modal__form),children:[i.jsx("button",{className:o()(_().modal__close),onClick:P,children:i.jsx(c(),{src:m.Z,alt:"close",width:18,height:18})}),v?i.jsx("p",{className:o()(_().modal__form_text),children:" Спасибо за ваш отзыв, в ближайшее время мы его опубликуем\uD83D\uDE09"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{title:"Введите свое имя...",className:o()(_().modal__form_box),children:[i.jsx("label",{className:o()(_().modal__form_label),htmlFor:"",children:"Имя"}),i.jsx("input",{value:a,onChange:e=>{e.preventDefault(),s(e.target.value),x("")},className:o()(_().modal__form_input),type:"text",placeholder:"Введите свое имя..."})]}),(0,i.jsxs)("div",{title:"Будем благодарны за ваш отзыв!",className:o()(_().modal__form_box),children:[i.jsx("label",{className:o()(_().modal__form_label),htmlFor:"",children:"Отзыв"}),i.jsx("textarea",{value:n,onChange:e=>{e.preventDefault(),d(e.target.value),x("")},className:o()(_().modal__form_textArea,_().review),placeholder:"Напишите отзыв..."})]}),(0,i.jsxs)("div",{className:o()(_().modal__form_box),children:[i.jsx("label",{className:o()(_().modal__form_label),htmlFor:"",children:"Оцените нашу работу"}),i.jsx(f,{setRating:R,setError:x})]}),i.jsx("div",{title:"Введите номер телефона...",className:o()(_().modal__form_box),children:(0,i.jsxs)("label",{className:o()(_().modal__form_label),htmlFor:"",children:["Телефон",i.jsx(u(),{specialLabel:"",disableCountryGuess:!0,inputClass:o()(_().modal__form_input),country:"ru",value:p,onChange:e=>{b(e),N(C(e)),x("")},placeholder:"+7 (900) 123-45-67"})]})}),i.jsx("div",{className:o()(_().modal__form_error),children:g}),i.jsx("button",{disabled:""!==g,onClick:W,className:o()(_().modal__form_button),children:"Опубликовать отзыв"})]})]})})]})}},5549:e=>{e.exports={container__button:"WriteRewiev_container__button__MVfbe",right:"WriteRewiev_right__5i_vJ",cont:"WriteRewiev_cont__aSIQK",modal:"WriteRewiev_modal__tFQms",modal__form:"WriteRewiev_modal__form__LsgYL",opacity:"WriteRewiev_opacity__3qaC2",modal__form_box:"WriteRewiev_modal__form_box__s_eew",modal__form_label:"WriteRewiev_modal__form_label__OkdS_",modal__form_input:"WriteRewiev_modal__form_input__F8GgG",modal__form_textArea:"WriteRewiev_modal__form_textArea__DUXNx",modal__form_error:"WriteRewiev_modal__form_error__gdcrB",modal__form_button:"WriteRewiev_modal__form_button__VlCNW",modal__form_text:"WriteRewiev_modal__form_text__ARggR",modal__close:"WriteRewiev_modal__close__79rCd",vibration:"WriteRewiev_vibration__F7VWC",modal_image:"WriteRewiev_modal_image__JtVgw",scale:"WriteRewiev_scale__nCsqa",left:"WriteRewiev_left__hh29R",up:"WriteRewiev_up__2SVm_",down:"WriteRewiev_down__PGyTe"}},1913:e=>{e.exports={rating:"Rating_rating__Wpijo",rating__items:"Rating_rating__items__mIUd2",rating__items_input:"Rating_rating__items_input__xe8AH",rating__items_label:"Rating_rating__items_label__ChsC_"}},5653:e=>{e.exports={section:"page_section__oJBQH",section__box:"page_section__box__HNCVR",section__card:"page_section__card__GTomW",left:"page_left__p07cD",section__card_title:"page_section__card_title__XpBA2",section__card_box:"page_section__card_box__gEcAG",section__card_text:"page_section__card_text__JVQzf",date:"page_date__tyFjc",up:"page_up__0Sw5m",right:"page_right__b1q_b",down:"page_down__OiNTb",scale:"page_scale__ud200",opacity:"page_opacity__KsCjN",vibration:"page_vibration__f6ZUr"}},3347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x,metadata:()=>h});var i=a(5036);a(2);var r=a(5653),s=a.n(r),_=a(5573),n=a.n(_),o=a(5904),l=a.n(o);let d={src:"/_next/static/media/star.1c3a2cb9.svg",height:76,width:76,blurWidth:0,blurHeight:0};var c=a(680);let m=(0,a(6843).createProxy)(String.raw`G:\projects\GitHub\potolki\app\components\WriteRewiev\WriteRewiev.tsx`),{__esModule:p,$$typeof:u}=m,b=m.default,g=e=>{let t=e.split("-").reverse();return t[1]=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][+t[1]-1],t.join(" ")},f=async()=>{try{return(await fetch("https://wclouds.ru/api/rewiews",{method:"GET",next:{revalidate:300},headers:{"Content-Type":"application/json",Authorization:"Bearer 4ee73f8dcbdd3f42ddd8b786c9d4f18eadf6539e7c87c202d68f475498beca9be1bef67ff2b6f2058a7f77c2bd3015e1ed4f59d3fdcbfc2974b2b33366459d558587b06b5299a14ff9104652461b8a67835d12081782001029d5cb0345875bb0a9feb65b35aeea8931a212e471f74a3b01fe3414c4d24faaf17147dbb53fa451"}})).json()}catch(e){console.log(e)}},h={title:"Отзывы",twitter:{card:"summary_large_image"}},x=async()=>{let e=await f();return i.jsx(i.Fragment,{children:(0,i.jsxs)("section",{className:n()(s().section),children:[(0,i.jsxs)("div",{className:n()(s().section__box),children:[i.jsx(c.ZP,{}),i.jsx(b,{})]}),i.jsx("div",{className:n()(s().section__box),children:e.data.map((e,t)=>{if(!e.attributes.published)return;let a=[];for(let t=0;t<+e.attributes.rating;t++)a.push(t);let r=e.attributes.name.split(" ").map(e=>e[0].toUpperCase()+e.slice(1)).join(" "),_="";return _=null!==e.attributes.date?g(e.attributes.date):g(e.attributes.createdAt.slice(0,10)),(0,i.jsxs)("div",{className:n()(s().section__card),children:[i.jsx("h1",{className:n()(s().section__card_title),children:r}),i.jsx("div",{className:n()(s().section__card_box),children:a.map(e=>i.jsx(l(),{src:d,alt:"star",width:20,height:20},e))}),i.jsx("p",{className:n()(s().section__card_text,s().date),children:_}),i.jsx("p",{className:n()(s().section__card_text),children:e.attributes.text})]},t)})})]})})}},6600:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});let i={src:"/_next/static/media/star.1c3a2cb9.svg",height:76,width:76,blurWidth:0,blurHeight:0}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[638,281,904,756],()=>a(4815));module.exports=i})();